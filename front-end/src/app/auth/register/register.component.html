<app-base-form
  header="Register" redirectText="Already registered?" redirectLinkText="Login" redirectLink="/login"
>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <mat-form-field class="w-full">
      <mat-label for="email">Email</mat-label>
      <input matInput formControlName="email" id="email" placeholder="johndoe@mail.com" type="email">
      @if (registerForm.controls.email.hasError('required')) {
        <mat-error>Email is <strong>required</strong></mat-error>
      }
      @if (registerForm.controls.email.hasError('email')) {
        <mat-error>The email must follow the format: <strong>jonhdoe&#64;mail.com</strong></mat-error>
      }
      @if (registerForm.controls.email.hasError('alreadyExists')) {
        <mat-error>An user with the email: <strong>{{ registerForm.value.email }}</strong> already exists</mat-error>
      }
    </mat-form-field>

    <mat-form-field class="w-full mt-2">
      <mat-label for="name">Name</mat-label>
      <input matInput formControlName="name" name="name" id="name" placeholder="Name">
      @if (registerForm.controls.name.hasError('required')) {
        <mat-error>Name is <strong>required</strong></mat-error>
      }
    </mat-form-field>

    <mat-form-field class="w-full mt-2">
      <mat-label for="lastName">Last Name</mat-label>
      <input matInput formControlName="lastName" name="lastName" id="lastName" placeholder="Last Name">
      @if (registerForm.controls.lastName.hasError('required')) {
        <mat-error>Last Name is <strong>required</strong></mat-error>
      }
    </mat-form-field>

    <div formGroupName="passwordGroup">
      <mat-form-field class="w-full mt-2">
        <mat-label for="password">Password</mat-label>
        <input matInput formControlName="password" name="password" id="password" placeholder="Password" type="password">
        @if (registerForm.controls.passwordGroup.controls.password.hasError('required')) {
          <mat-error>Password is <strong>required</strong></mat-error>
        }
        @if (registerForm.controls.passwordGroup.controls.password.hasError('mustBeEqual')) {
          <mat-error><strong>Password</strong> must be equal to <strong>Confirm Password</strong></mat-error>
        }
      </mat-form-field>

      <mat-form-field class="w-full mt-2">
        <mat-label for="confirmPassword">Confirm Password</mat-label>
        <input matInput formControlName="confirmPassword" name="confirmPassword" id="confirmPassword" placeholder="Password" type="password">
        @if (registerForm.controls.passwordGroup.controls.confirmPassword.hasError('required')) {
          <mat-error>Password is <strong>required</strong></mat-error>
        }
        @if (registerForm.controls.passwordGroup.controls.confirmPassword.hasError('mustBeEqual')) {
          <mat-error><strong>Confirm Password</strong> must be equal to <strong>Password</strong></mat-error>
        }
      </mat-form-field>
    </div>

    <button mat-flat-button color="primary" class="float-right" type="submit">Register</button>
  </form>

</app-base-form>
