<div class="flex min-h-full flex-col justify-center px-6 py-12 lg:px-8">
  <form [formGroup]="editProfileForm" (ngSubmit)="onSubmit()">
    <mat-form-field class="w-full">
      <mat-label for="name">Name</mat-label>
      <input matInput formControlName="name" id="name" placeholder="Name" type="text">
      @if (editProfileForm.controls['name'].hasError('required')) {
        <mat-error>Name is <strong>required</strong></mat-error>
      }
    </mat-form-field>

    <mat-form-field class="w-full mt-2">
      <mat-label for="lastName">Last Name</mat-label>
      <input matInput formControlName="lastName" id="lastName" placeholder="Last Name" type="text">
      @if (editProfileForm.controls['lastName'].hasError('required')) {
        <mat-error>Last Name is <strong>required</strong></mat-error>
      }
    </mat-form-field>

    <mat-form-field class="w-full mt-2">
      <mat-label for="email">Email</mat-label>
      <input matInput formControlName="email" id="email" placeholder="johndoe@mail.com" type="email">
      @if (editProfileForm.controls['email'].hasError('required')) {
        <mat-error>Email is <strong>required</strong></mat-error>
      }
      @if (editProfileForm.controls['email'].hasError('email')) {
        <mat-error>The email must follow the format: <strong>jonhdoe&#64;mail.com</strong></mat-error>
      }
      @if (editProfileForm.controls['email'].hasError('alreadyExists')) {
        <mat-error>An user with the email: <strong>{{ editProfileForm.value.email }}</strong> already exists</mat-error>
      }
    </mat-form-field>

    <mat-form-field class="w-full mt-2">
      <mat-label for="bio">Biography</mat-label>
      <textarea matInput formControlName="bio" name="bio" id="bio" placeholder="Biography"></textarea>
    </mat-form-field>

    <mat-form-field class="w-full mt-2">
      <mat-label for="areaOfInterest">Area of Interest</mat-label>
      <textarea matInput formControlName="areaOfInterest" name="areaOfInterest" id="areaOfInterest" placeholder="areaOfInterest"></textarea>
    </mat-form-field>

    <div formGroupName="passwordGroup">
      <mat-form-field class="w-full mt-2">
        <mat-label for="password">Password</mat-label>
        <input matInput formControlName="password" name="password" id="password" placeholder="Password" type="password">
        @if (editProfileForm.controls['passwordGroup'].controls['password'].hasError('mustBeEqual')) {
          <mat-error><strong>Password</strong> must be equal to <strong>Confirm Password</strong></mat-error>
        }
      </mat-form-field>

      <mat-form-field class="w-full mt-2">
        <mat-label for="confirmPassword">Confirm Password</mat-label>
        <input matInput formControlName="confirmPassword" name="confirmPassword" id="confirmPassword" placeholder="Password" type="password">
        @if (editProfileForm.controls['passwordGroup'].controls['confirmPassword'].hasError('mustBeEqual')) {
          <mat-error><strong>Confirm Password</strong> must be equal to <strong>Password</strong></mat-error>
        }
      </mat-form-field>
    </div>

    <file-upload [multiple]="false" formControlName="profilePictureUrl"></file-upload>

    <div class="float-right mt-2">
      <a [routerLink]="['..']"><button mat-flat-button color="warn">Cancel</button></a>
      <button mat-flat-button class="ml-2" color="primary" type="submit">Update</button>
    </div>
  </form>
</div>
